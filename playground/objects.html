<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title></title>
  <link rel="stylesheet" href="../base.css">
</head>

<body>
  <!-- <input type="text" name="first" value="wes"> -->
  <script src="https://unpkg.com/lodash"></script>
  <script>
    const age = 100;
    // WE CAN USE TOO
    /* const wes = new Object({});
    as well as 
    const name = new String('wes'); */
    /* eslint-disable */
    //OBJECT LITERAL SINTAX
    const wes = {
      age,
      propertyToCheck: 'NEVER',
      name: 'wes',
      'cool-dude': true,
      'really-cool': false,
      777: true,
      dog: 'snickers',
      clothing: {
        shirts: 10,
        pants: 2,
      },
      sayHello: function (greeting = 'Hey') {
        return `${greeting} ${this.name}`;
      },
    };
    // LENGTH OF OBJECT
    Object.keys(wes).length; // 10
    wes.job = 'web developer';
    wes.age = '50';

    const wesFroze = Object.freeze(wes);

    console.log(wes, wesFroze);
    console.log(wes.age);
    /*eslint-disable */
    console.log(wes['age']);
    // const propertyToCheck = prompt('What property do you want to check?');
    // console.log(propertyToCheck);
    // console.log(wes[propertyToCheck]);
    console.log(wes.propertyToCheck);
    console.log(wes['cool-dude']);
    console.log(wes?.jobs ? wes.jobs.first : `job doesn't exist`);

    // Optional chaining (?.) returns undefined if the property doesn't exist, not an error. 
    console.log(wes?.jobs?.first); //undefined. It shortcut the circuit at jobs.
    console.log(wes?.clothing?.pants);// 2
    console.log(!wes?.clothing?.pants);// false

    const input = document.querySelector('input[name= "first"]');
    /* IF input DOESN'T EXIST, IT RETURNS NULL
    const inputValue = input.value; //Uncaught TypeError: Cannot read properties of null (reading 'value')
    console.log(inputValue);
    */
    // catching to this error, and preventing it from happening.
    const name = input ? input.value : '';
    console.log(name);

    // DELETING A PROPERTY
    delete (wes.clothing.pants);
    console.log(wes.clothing.pants); // undefined
    //METHODS!
    console.log(wes.sayHello());
    console.log(wes.sayHello('Hey there!'));

    const person1 = {
      first: 'manuel',
      last: 'Bravard',
      clothing: {
        shirts: 10,
        pants: 2,
      },
    }
    const person2 = {
      first: 'wes',
      last: 'Bos',
    }
    /*
    const person3 = person2; // person 3 is a reference to person 2.  
    person3.first = 'manuel';
    console.log(person2.first, person3.first); // manuel manuel
    */
    // const person3 = { ...person1 }; // person 3 is a copy of person 1. its a shallow copy.
    // its the same as Object.assign({}, person1); it is a shallow copy.
    const person3 = _.cloneDeep(person1); // person 3 is a deep copy of person 1.
    person3.first = 'wes';
    console.log(person1.first, person3.first);// manuel wes
    person3.clothing.shirts = 100;
    // with spread and Object.assing:
    //console.log(person3.clothing.shirts, person1.clothing.shirts); //100 100
    console.log(person3.clothing.shirts, person1.clothing.shirts);// 100 10

    //MERGIN OBJECTS
    const meetInventory = {
      beacon: 15,
      sausage: 2,
    };
    const veggieInventory = {
      lettuce: 15,
      tomatoes: 2,
    };
    /* eslint-enable */
    const inventory = {
      ...meetInventory,
      ...veggieInventory,
      bananas: 10,
      apples: 5,
    };
    console.log(inventory);

    // MODIFYING OBJECTS VS OTHER DATA TYPES
    const name1 = 'Manuel';
    function doStuff(data) {
      let dataI = data;
      dataI = 'something else';
      console.log(dataI);
    }
    doStuff(name1);
    console.log(name1); // Manuel

    // we can modify OBJECTS AND ARRAYS from a function
    function dostuff2(data) {
      const dataI = data;
      return (dataI.tomatoes = 'something else');
    }
    dostuff2(inventory);
    console.log(inventory.tomatoes); // something else

    // STRINGIFY AND PARSE
    const stringified = JSON.stringify(inventory);
    console.log(stringified); // a string
    const parsed = JSON.parse(stringified);
    console.log(parsed);
  </script>
</body>

</html>